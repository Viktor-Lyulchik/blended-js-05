{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/theme-switcher.js","../src/js/render-tasks.js","../src/js/local-storage-api.js","../src/main.js"],"sourcesContent":["const formAddNotes = document.querySelector('.header-form');\nconst themeToggleBtn = document.querySelector('.theme-toggle-button');\nconst taskList = document.querySelector('.tasks-list');\nconst body = document.querySelector('body');\n\nexport { body, formAddNotes, themeToggleBtn, taskList };\n","'use strict';\nimport { body } from './refs';\n\nexport function toggleTheme() {\n  let currentTheme = '';\n  if (body.classList.contains('theme-light')) {\n    currentTheme = 'theme-dark';\n  } else {\n    currentTheme = 'theme-light';\n  }\n  body.classList.replace(oppositeTheme(currentTheme), currentTheme);\n  return currentTheme;\n}\n\nfunction oppositeTheme(theme) {\n  return theme === 'theme-dark' ? 'theme-light' : 'theme-dark';\n}\n\nexport function setTheme(theme) {\n  if (!body.classList.contains(theme)) {\n    body.classList.add(theme);\n  }\n  body.classList.remove(oppositeTheme(theme));\n}\n","'use strict';\n\nimport { taskList } from './refs';\n\nexport function renderTaskList(arrTaskList) {\n  const listHTML = arrTaskList\n    .map(\n      ({\n        taskName,\n        taskDescription,\n        id,\n      }) => `<li class=\"task-list-item\" data-id=\"${id}\">\n      <button class=\"task-list-item-btn\">Delete</button>\n      <h3>${taskName}</h3>\n      <p>${taskDescription}</p>\n  </li>`\n    )\n    .join('');\n  taskList.innerHTML = listHTML;\n}\n\nexport function appendTaskToList(task) {\n  const { taskName, taskDescription, id } = task;\n  const listItemHTML = `<li class=\"task-list-item\" data-id=\"${id}\">\n        <button class=\"task-list-item-btn\">Delete</button>\n        <h3>${taskName}</h3>\n        <p>${taskDescription}</p>\n    </li>`;\n  taskList.insertAdjacentHTML('beforeend', listItemHTML);\n}\n","'use strict';\n\nexport function setDataToLS(KEY, Data) {\n  localStorage.setItem(KEY, JSON.stringify(Data));\n}\n\nexport function getDataFromLS(KEY, emptyData = '') {\n  const savedData = localStorage.getItem(KEY);\n  let data = emptyData;\n  if (savedData) {\n    try {\n      data = JSON.parse(savedData);\n    } catch (error) {\n      data = emptyData;\n      console.error('Error restoring data from the localStorage:', error);\n    }\n  }\n  return data;\n}\n","'use strict';\n\nimport { toggleTheme, setTheme } from './js/theme-switcher';\nimport { renderTaskList, appendTaskToList } from './js/render-tasks';\nimport { setDataToLS, getDataFromLS } from './js/local-storage-api';\nimport { formAddNotes, themeToggleBtn, taskList } from './js/refs';\n\n/*\n  Створи список справ.\n  На сторінці є два інпути які має вводиться назва і текст задачі.\n  Після натискання на кнопку \"Add\" завдання додається до списку #task-list.\n\n  У кожної картки має бути кнопка \"Delete\", щоб можна було\n  прибрати завдання зі списку.\n  Список із завданнями має бути доступним після перезавантаження сторінки.\n\n  Розмітка картки задачі\n  <li class=\"task-list-item\">\n      <button class=\"task-list-item-btn\">Delete</button>\n      <h3>Заголовок</h3>\n      <p>Текст</p>\n  </li>\n*/\n\nlet taskArray = [];\n\nconst STORAGE_KEY = 'notes_books';\nconst STORAGE_KEY_THEME = 'notes_books_theme';\n\n// localStorage.removeItem(STORAGE_KEY);\n\ntaskArray = getDataFromLS(STORAGE_KEY, []);\n// console.log(taskArray);\n\nif (taskArray.length != 0) {\n  renderTaskList(taskArray);\n}\n\nlet savedTheme = getDataFromLS(STORAGE_KEY_THEME);\nif (savedTheme === '') {\n  savedTheme = 'theme-dark';\n}\nsetTheme(savedTheme);\n\nformAddNotes.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const taskName = event.currentTarget.elements.taskName.value.trim();\n  const taskDescription =\n    event.currentTarget.elements.taskDescription.value.trim();\n\n  if (!taskName || !taskDescription) {\n    alert('Please, fill  all fields of task!');\n    return;\n  }\n\n  const newTask = {\n    taskName,\n    taskDescription,\n    id: taskArray.length + 1,\n  };\n\n  taskArray.push(newTask);\n  appendTaskToList(newTask);\n  setDataToLS(STORAGE_KEY, taskArray);\n\n  formAddNotes.reset();\n});\n\nthemeToggleBtn.addEventListener('click', () => {\n  savedTheme = toggleTheme();\n  setDataToLS(STORAGE_KEY_THEME, savedTheme);\n});\n\ntaskList.addEventListener('click', event => {\n  if (event.target.nodeName != 'BUTTON') {\n    return;\n  }\n\n  const item = event.target.closest('.task-list-item');\n  const itemId = +item.dataset.id;\n\n  taskArray = taskArray.filter(({ id }) => id !== itemId);\n\n  setDataToLS(STORAGE_KEY, taskArray);\n\n  item.remove();\n});\n"],"names":["formAddNotes","themeToggleBtn","taskList","body","toggleTheme","currentTheme","oppositeTheme","theme","setTheme","renderTaskList","arrTaskList","listHTML","taskName","taskDescription","id","appendTaskToList","task","listItemHTML","setDataToLS","KEY","Data","getDataFromLS","emptyData","savedData","data","error","taskArray","STORAGE_KEY","STORAGE_KEY_THEME","savedTheme","event","newTask","item","itemId"],"mappings":"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"}